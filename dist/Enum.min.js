define(["Gwa.Event.Dispatcher"],function(a){return function(b){var c,d=new a,e=b,f={on:function(a,b){return d.on(a,b)},off:function(a,b){d.off(a,b)},set:function(a){var b,g=!1;if(c!==a){for(b in e)if(e[b]===a){g=!0;break}g&&(c&&d.dispatch("DEACTIVATE",c,f),c=a,d.dispatch("ACTIVATE",c,f))}},get:function(){return c}};return f}});