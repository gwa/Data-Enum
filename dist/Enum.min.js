define(["Gwa.Event.Dispatcher"],function(a){return function(b){var c,d=new a,e=b,f={on:function(a,b){return d.on(a,b)},off:function(a,b){d.off(a,b)},set:function(a){var b,g=!1,h=null;if(c!==a){for(b in e)if(e[b]===a){g=!0;break}g&&(c&&(h=c),c=a,d.dispatch("SETTINGS_CHANGE",c,h,f))}},get:function(){return c}};return f}});